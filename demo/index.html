<!doctype html>
<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
    <title>gs-element-blockly Demo</title>
    <script src="../../webcomponentsjs/webcomponents-lite.min.js"></script>
    <link rel="import" href="../gs-element-blockly.html">
  </head>
  <body unresolved>

    <p>An example of <code>&lt;gs-element-blockly&gt;</code>:</p>
    <p>
      <button id="default_toolboxbtn">Default toolbox</button>
      <button id="limited_toolboxbtn">Limited toolbox</button>
      <button id="print_xmlbtn">Print xml</button>
      <button id="set_xmlbtn">Set xml</button>
      <button id="set_primitive_proceduresbtn">Set customblocks</button>
      <input type="text" id="primitive_procedurestxt" value='["Poner_FloresAl_", "Podar"]'></input><br />
      <button id="set_primitive_functionsbtn">Set functions</button>
      <input type="text" id="primitive_functionstxt" value='["hayFlores_en_", "cuantasHay_en_"]'></input>
    </p>
    <gs-element-blockly>
    </gs-element-blockly>

		<p><button id="generatebtn">Generar CÃ³digo</button></p>
    <textarea id="code" rows="20" cols="80"></textarea>

    <script>
      var blocklyElement = document.querySelector('gs-element-blockly');

      document.querySelector('#generatebtn').addEventListener('click', function() {
        document.getElementById("code").innerHTML = blocklyElement.generateCode();
      });

      document.querySelector('#default_toolboxbtn').addEventListener('click', function() {
        blocklyElement.set('toolbox', "");
      });

      document.querySelector('#limited_toolboxbtn').addEventListener('click', function() {
        blocklyElement.set('toolbox', '{ "visible": ["Poner","OperadorNumerico", "CategoriaAsignacion"], "disabled": ["Literales"]}');
      });

      document.querySelector('#set_primitive_proceduresbtn').addEventListener('click', function() {
        blocklyElement.set('primitiveProcedures', document.getElementById("primitive_procedurestxt").value);
      });

      document.querySelector('#set_primitive_functionsbtn').addEventListener('click', function() {
        blocklyElement.set('primitiveFunctions', document.getElementById("primitive_functionstxt").value);
      });

      document.querySelector('#print_xmlbtn').addEventListener('click', function() {
        console.log(blocklyElement.get('workspaceXml'));
      });

      document.querySelector('#set_xmlbtn').addEventListener('click', function() {
        blocklyElement.set('workspaceXml',prompt("Paste xml here:", ""));
      });
    </script>

  </body>
</html>
